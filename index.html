<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8">
  <title>Anniversary</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link
    href="https://fonts.googleapis.com/css2?family=Raleway:wght@300&family=Quicksand:wght@300&family=Poppins:wght@300&family=Dancing+Script&display=swap"
    rel="stylesheet">
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      overflow: hidden;
      font-family: 'Raleway', sans-serif;
      font-weight: 300;
    }

    .container {
      background: rgb(246, 228, 228);
      border: 3px solid #ff4b6e;
      border-radius: 20px;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 800px;
      height: 400px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 10;
    }

    .left img {
      width: 350px;
      height: 350px;
      object-fit: cover;
      border: 1px solid #0c0c0c;
      border-radius: 20px;
    }

    .right {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 450px;
    }

    #passwordInput {
      width: 200px;
      height: 40px;
      font-size: 18px;
      text-align: center;
      margin-bottom: 10px;
      border-radius: 10px;
      border: 2px solid #ff4b6e;
    }

    .keypad {
      display: grid;
      grid-template-columns: repeat(3, 60px);
      gap: 10px;
    }

    .keypad button {
      height: 50px;
      font-size: 20px;
      border: none;
      border-radius: 10px;
      background: #ff4b6e;
      color: white;
      cursor: pointer;
      transition: 0.2s;
    }

    .keypad button:hover {
      background: #e63e61;
    }

    .hidden {
      display: none;
    }

    .screen {
      text-align: center;
      color: #fff;
      z-index: 10;
      position: relative;
    }

    .fa-solid {
      color: #e63e61;
      padding: 10px;
      justify-content: center;
      align-items: center;
    }

    .icons {
      display: flex;
      gap: 40px;
      justify-content: center;
      margin-top: 40px;
    }

    .icon {
      font-size: 60px;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .icon:hover {
      transform: scale(1.2) rotate(5deg);
    }

    .content {
      margin-top: 30px;
      font-size: 20px;
      color: #fff;
      min-height: 200px;
    }

    .heart {
      position: fixed;
      bottom: -10px;
      color: #ff4b6e;
      font-size: 20px;
      animation: floatUp 6s linear forwards;
      opacity: 0.8;
      z-index: 1;
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) scale(1);
        opacity: 1;
      }

      50% {
        opacity: 0.8;
      }

      100% {
        transform: translateY(-110vh) scale(1.5);
        opacity: 0;
      }
    }

    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      display: none;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.4s;
      z-index: 999;
    }

    .letter-box {
      background: #fff8f0;
      border: 2px solid #ff4d6d;
      border-radius: 20px;
      margin: 30px;
      padding: 30px;
      width: 600px;
      text-align: center;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
      position: relative;
      animation: slideDown 0.5s ease-out;
      font-family: 'Dancing Script', cursive;
    }

    .letter-box h2 {
      color: #ff4d6d;
      margin-bottom: 15px;
      font-size: 28px;
    }

    .letter-box p {
      color: #444;
      font-size: 22px;
      line-height: 1.6;
    }

    .close-btn {
      position: absolute;
      top: 35px;
      right: 10px;
      font-size: 25px;
      color: #ff4d6d;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s;
    }

    .close-btn:hover {
      transform: scale(1.2);
    }

    .video-box video {
      width: 100%;
      border-radius: 15px;
      max-height: 700px;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
      border: 3px solid #ff4d6d;
      background: linear-gradient(135deg, #ffdde1, #ee9ca7);
      transition: transform 0.3s;
    }

    /* Calendar popup */
    .calendar-box {
      background: #fff8f0;
      border: 2px solid #ff4d6d;
      border-radius: 20px;
      padding: 30px;
      width: 500px;
      text-align: center;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.25);
      position: relative;
      animation: zoomIn 0.5s ease-out;
    }

    .calendar-img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 15px;
      border: 1px solid #ff4d6d;
    }

    .calendar-title {
      font-size: 20px;
      color: #444;
      margin: 50px 20px;
      text-align: center;
    }

    .calendar-timer {
      font-size: 60px;
      font-weight: bold;
      margin: 20px 10px;
      color: #87CEEB;
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .calendar-timer span {
      display: flex;
      flex-direction: column;
      align-items: center;
      min-width: 80px;
    }

    .calendar-timer .number {
      font-size: 70px;
      font-weight: bold;
      color: #87CEEB;
    }

    .calendar-timer .label {
      font-size: 18px;
      font-weight: bold;
      color: #b56576;
      margin-top: 5px;
    }

    .calendar-timer .colon {
      font-size: 70px;
      font-weight: bold;
      color: #87CEEB;
      margin-top: -10px;
    }

    .hearts {
      margin-top: 20px;
      font-size: 22px;
      color: #ff4d6d;
    }

    .topCelander {
      display: flex;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    @keyframes slideDown {
      from {
        transform: translateY(-30px);
        opacity: 0;
      }

      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes zoomIn {
      from {
        transform: scale(0.7);
        opacity: 0;
      }

      to {
        transform: scale(1);
        opacity: 1;
      }
    }
  </style>
</head>

<body>
  <!-- M√†n h√¨nh nh·∫≠p m·∫≠t kh·∫©u -->
  <div class="container" id="loginScreen">
    <div class="left">
      <img src="img/img10.jpg" alt="K·ª∑ ni·ªám">
    </div>
    <div class="right">
      <input type="text" id="passwordInput" readonly placeholder="Enter Password">
      <div class="keypad">
        <button onclick="pressNum('1')">1</button>
        <button onclick="pressNum('2')">2</button>
        <button onclick="pressNum('3')">3</button>
        <button onclick="pressNum('4')">4</button>
        <button onclick="pressNum('5')">5</button>
        <button onclick="pressNum('6')">6</button>
        <button onclick="pressNum('7')">7</button>
        <button onclick="pressNum('8')">8</button>
        <button onclick="pressNum('9')">9</button>
        <button onclick="clearInput()">X</button>
        <button onclick="pressNum('0')">0</button>
        <button onclick="checkPassword()">Enter</button>
      </div>
    </div>
  </div>

  <!-- M√†n h√¨nh n·ªôi dung -->
  <div class="screen hidden" id="mainScreen">
    <h1 id="dayCount">üíñ Happy Anniversary 111Days üíñ</h1>
    <div class="icons">
      <div class="icon" onclick="openLetterPopup()"><i class="fa-solid fa-envelope"></i></div>
      <div class="icon" onclick="openVideoPopup()"><i class="fa-solid fa-photo-film"></i></div>
      <div class="icon" onclick="openCalendarPopup()"><i class="fa-solid fa-calendar-days"></i></div>
    </div>
    <div class="content" id="content"></div>
  </div>

  <!-- Popup th∆∞ -->
  <div class="overlay" id="letterOverlay">
    <div class="letter-box">
      <div class="close-btn" onclick="closeLetterPopup()"><i class="fa-solid fa-x"></i></div>
      <h2 id="letterTitle">üíå G·ª≠i em y√™u</h2>
      <p id="letterContent">
        <!-- N·ªôi dung s·∫Ω ƒë∆∞·ª£c g√°n b·∫±ng JS -->
      </p>
    </div>
  </div>

  <!-- Popup video -->
  <div class="overlay" id="videoOverlay">
    <div class="video-box" style="width: 700px; padding: 20px;">
      <div class="close-btn" onclick="closeVideoPopup()"><i class="fa-solid fa-x"></i></div>
      <video id="anniversaryVideo" width="650" controls autoplay loop>
        <source src="img/video.mp4" type="video/mp4">
        Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ video.
      </video>
    </div>
  </div>

  <!-- Popup Calendar -->
  <div class="overlay" id="calendarOverlay">
    <div class="calendar-box">
      <div class="close-btn" onclick="closeCalendarPopup()"><i class="fa-solid fa-x"></i></div>
      <div class="topCelander">
        <img src="img/img1.jpg" alt="Couple" class="calendar-img">
        <p class="calendar-title">how long have we been together?</p>
      </div>
      <div id="timer" class="calendar-timer"></div>
      <div class="hearts">‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è ‚ù§Ô∏è</div>
    </div>
  </div>

  <script>
    // --- C·∫§U H√åNH M·∫¨T KH·∫®U / QUY·ªÄN TRUY C·∫¨P ---
    const correctPassword = "25052025"; // quy·ªÅn ƒë·∫ßy ƒë·ªß (g·ªëc)
    const altPassword = "1";           // quy·ªÅn ph·ª•: s·∫Ω hi·ªÉn th·ªã th∆∞ kh√°c
    let enteredRole = null; // 'full' ho·∫∑c 'alt' ho·∫∑c null

    let password = "";

    function pressNum(num) {
      password += num;
      document.getElementById("passwordInput").value = password;
    }

    function clearInput() {
      password = "";
      document.getElementById("passwordInput").value = "";
    }

    function checkPassword() {
      const trimmed = password.trim();
      if (trimmed === correctPassword) {
        enteredRole = 'full';
        showMainScreen();
      } else if (trimmed === altPassword) {
        enteredRole = 'alt';
        showMainScreen();
      } else {
        alert("Sai m·∫≠t kh·∫©u r·ªìi üò¢");
        clearInput();
      }
    }

    function showMainScreen() {
      document.getElementById("loginScreen").classList.add("hidden");
      document.getElementById("mainScreen").classList.remove("hidden");
      clearInput(); // x√≥a input sau khi ƒëƒÉng nh·∫≠p
    }

    // --- N·ªòI DUNG TH∆Ø THEO QUY·ªÄN ---
    const fullLetterTitle = "üíå G·ª≠i em y√™u";
    const fullLetterContent = `
      H√¥m nay l√† m·ªôt ng√†y th·∫≠t ƒë·∫∑c bi·ªát ‚Äì ng√†y k·ª∑ ni·ªám t√¨nh y√™u c·ªßa ch√∫ng ta. Anh mu·ªën d√†nh v√†i d√≤ng n√†y ƒë·ªÉ n√≥i r·∫±ng
      anh c·∫£m th·∫•y may m·∫Øn nh∆∞ th·∫ø n√†o khi c√≥ em ·ªü b√™n.
      Nh·ªù c√≥ em m√† anh h·ªçc ƒë∆∞·ª£c c√°ch ki√™n nh·∫´n h∆°n, bi·∫øt l·∫Øng nghe h∆°n v√† c≈©ng c·ªë g·∫Øng ƒë·ªÉ tr∆∞·ªüng th√†nh h∆°n t·ª´ng ng√†y.
      Anh bi·∫øt anh kh√¥ng ho√†n h·∫£o nh∆∞ng anh th·∫≠t s·ª± mu·ªën tr·ªü th√†nh m·ªôt phi√™n b·∫£n t·ªët h∆°n v√† lu√¥n mu·ªën mang ƒë·∫øn cho em
      nh·ªØng ƒëi·ªÅu t·ªët nh·∫•t trong kh·∫£ nƒÉng c·ªßa m√¨nh. Mong r·∫±ng ch·∫∑ng ƒë∆∞·ªùng ph√≠a tr∆∞·ªõc, ch√∫ng ta s·∫Ω c√πng nhau v∆∞·ª£t qua
      nhi·ªÅu ƒëi·ªÅu m·ªõi, c√πng chia s·∫ª v√† c√πng tr∆∞·ªüng th√†nh h∆°n.
      C·∫£m ∆°n em ƒë√£ ƒë·ªìng h√†nh c√πng anh trong kho·∫£ng th·ªùi gian v·ª´a qua. Anh mong r·∫±ng ƒë√¢y ch·ªâ m·ªõi l√† kh·ªüi ƒë·∫ßu cho r·∫•t
      nhi·ªÅu ng√†y, th√°ng v√† nƒÉm sau n√†y m√† ch√∫ng ta s·∫Ω ƒëi c√πng nhau.
      Ch√∫c m·ª´ng k·ª∑ ni·ªám c·ªßa ch√∫ng ta! <br>
      Anh y√™u em moadd<i class="fa-solid fa-heart"></i>
    `;

    // N·ªôi dung thay th·∫ø khi d√πng pass ph·ª•
    const altLetterTitle = "üíå";
    const altLetterContent = `
      This is privacy
    `;

    function openLetterPopup() {
      // G√°n n·ªôi dung th∆∞ theo quy·ªÅn
      const titleEl = document.getElementById("letterTitle");
      const contentEl = document.getElementById("letterContent");

      if (enteredRole === 'full') {
        titleEl.innerHTML = fullLetterTitle;
        contentEl.innerHTML = fullLetterContent;
      } else if (enteredRole === 'alt') {
        titleEl.innerHTML = altLetterTitle;
        contentEl.innerHTML = altLetterContent;
      } else {
        // N·∫øu ch∆∞a ƒëƒÉng nh·∫≠p (ph√≤ng ng·ª´a), kh√¥ng cho m·ªü
        alert("Vui l√≤ng ƒëƒÉng nh·∫≠p b·∫±ng m·∫≠t kh·∫©u h·ª£p l·ªá ƒë·ªÉ xem th∆∞.");
        return;
      }

      document.getElementById("letterOverlay").style.display = "flex";
    }
    function closeLetterPopup() {
      document.getElementById("letterOverlay").style.display = "none";
    }

    function openVideoPopup() {
      document.getElementById("videoOverlay").style.display = "flex";
      const video = document.getElementById("anniversaryVideo");
      const bgMusic = document.getElementById("bgMusic");

      video.play().catch(e => console.log("Kh√¥ng th·ªÉ ph√°t video:", e));
      if (!bgMusic.paused) {
        bgMusic.pause();
      }
    }

    function closeVideoPopup() {
      document.getElementById("videoOverlay").style.display = "none";
      const video = document.getElementById("anniversaryVideo");
      const bgMusic = document.getElementById("bgMusic");

      video.pause();
      bgMusic.play().catch(err => console.log("Kh√¥ng th·ªÉ b·∫≠t l·∫°i nh·∫°c:", err));
    }

    let timerRunning = false;

    function startTimer() {
      if (timerRunning) return;
      timerRunning = true;

      const startDate = new Date("2025-05-25T00:00:00");
      setInterval(() => {
        const now = new Date();
        const diff = now - startDate;

        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const minutes = Math.floor((diff / (1000 * 60)) % 60);
        const seconds = Math.floor((diff / 1000) % 60);

        document.getElementById("timer").innerHTML = `
      <span><div class="number">${days}</div><div class="label">Days</div></span>
      <div class="colon">:</div>
      <span><div class="number">${hours}</div><div class="label">Hours</div></span>
      <div class="colon">:</div>
      <span><div class="number">${minutes}</div><div class="label">Minutes</div></span>
      <div class="colon">:</div>
      <span><div class="number">${seconds}</div><div class="label">Seconds</div></span>
    `;
        document.getElementById("dayCount").innerHTML = `üíñ Happy Anniversary ${days} Days üíñ`;
      }, 1000);
    }

    function openCalendarPopup() {
      document.getElementById("calendarOverlay").style.display = "flex";
      startTimer();
    }

    function closeCalendarPopup() {
      document.getElementById("calendarOverlay").style.display = "none";
    }

    function createHeart() {
      const heart = document.createElement("div");
      heart.classList.add("heart");
      heart.innerHTML = "‚ù§Ô∏è";

      heart.style.left = Math.random() * 100 + "vw";
      heart.style.fontSize = Math.random() * 20 + 15 + "px";
      heart.style.animationDuration = (Math.random() * 3 + 3) + "s";

      document.body.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 6000);
    }

    // Gi·∫£m t·∫ßn su·∫•t tim ƒë·ªÉ tr√°nh lag
    setInterval(createHeart, 600);

    // B·∫≠t nh·∫°c n·ªÅn khi click l·∫ßn ƒë·∫ßu
    window.addEventListener("click", () => {
      const bgMusic = document.getElementById("bgMusic");
      bgMusic.currentTime = 1; // ph√°t t·ª´ gi√¢y 1
      bgMusic.play().catch(err => {
        console.log("Autoplay b·ªã ch·∫∑n:", err);
      });
    }, { once: true });

    // N·∫øu tab m·∫•t focus t·∫°m d·ª´ng nh·∫°c
    window.addEventListener("blur", () => {
      const bgMusic = document.getElementById("bgMusic");
      if (bgMusic) bgMusic.pause();
    });
    window.addEventListener("focus", () => {
      const bgMusic = document.getElementById("bgMusic");
      if (bgMusic) bgMusic.play().catch(() => { });
    });
    window.addEventListener("load", () => {
      startTimer();
    });

  </script>

  <!-- Nh·∫°c n·ªÅn -->
  <audio id="bgMusic" loop>
    <source src="baiHat.mp3" type="audio/mpeg">
    Tr√¨nh duy·ªát kh√¥ng h·ªó tr·ª£ audio.
  </audio>
</body>
</html>